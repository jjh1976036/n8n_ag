# 🧪 프로젝트 테스트 가이드

## 📋 테스트 단계별 가이드

### 1단계: 환경 설정 확인 🔧

```bash
# 기본 환경 설정 테스트
python test_setup.py
```

**확인 항목:**
- ✅ `.env` 파일 존재 및 API 키 설정
- ✅ 필수 패키지 설치 상태
- ✅ Claude 클라이언트 동작
- ✅ 에이전트 초기화
- ✅ 웹 스크래퍼 기본 동작

### 2단계: 기능 테스트 🤖

```bash
# Mock 데이터를 사용한 워크플로우 테스트
python test_simple.py
```

**확인 항목:**
- ✅ 4개 에이전트 순차 실행
- ✅ 데이터 처리 파이프라인
- ✅ 파일 저장 기능
- ✅ 전체 워크플로우 연동

### 3단계: 실제 애플리케이션 테스트 🚀

```bash
# 실제 채팅 애플리케이션 실행
python chat_main.py
```

**테스트 시나리오:**
1. **도움말 테스트**: `help` 입력
2. **간단한 키워드**: `AI` 입력
3. **복잡한 요청**: `삼성전자 주가 관련 최신 뉴스` 입력
4. **종료 테스트**: `quit` 입력

## 🔍 단계별 상세 테스트 방법

### A. 환경 설정 테스트 (test_setup.py)

#### 예상 정상 출력:
```
🔍 환경 설정 테스트
--------------------------------------------------
✅ .env 파일 존재
✅ ANTHROPIC_API_KEY 설정됨

📦 필수 패키지 확인:
✅ anthropic
✅ requests
✅ beautifulsoup4
✅ selenium
✅ python-dotenv
```

#### 문제 해결:
- **❌ .env 파일이 없습니다**: `cp env_example.txt .env`
- **❌ 패키지 누락**: `pip install -r requirements.txt`
- **⚠️ API 키가 기본값**: `.env` 파일에서 실제 Anthropic API 키 설정

### B. 기능 테스트 (test_simple.py)

#### 예상 정상 출력:
```
🤖 개별 에이전트 기능 테스트

1️⃣ CollectorAgent 테스트
   ✅ CollectorAgent 초기화 성공
   ✅ CollectorAgent Mock 테스트 성공

2️⃣ ProcessorAgent 테스트
   ✅ ProcessorAgent 초기화 성공
   ✅ 데이터 처리 완료: success

3️⃣ ActionAgent 테스트
   ✅ ActionAgent 초기화 성공
   ✅ 액션 실행 완료: success

4️⃣ ReporterAgent 테스트
   ✅ ReporterAgent 초기화 성공
   ✅ 보고서 생성 완료: success
```

### C. 실제 애플리케이션 테스트 (chat_main.py)

#### 1. 시작 화면 확인:
```
🤖 에이전트들을 초기화하는 중...
✅ Claude ChatCompletionClient 생성 성공
✅ 에이전트 생성 성공
✅ 모든 에이전트 초기화 완료!

============================================================
🗞️  뉴스 스크래핑 & 분석 시스템
============================================================
```

#### 2. 도움말 테스트:
```
💬 원하는 뉴스 주제나 키워드를 입력하세요:
👤 입력: help
```

#### 3. 실제 뉴스 검색 테스트:
```
👤 입력: AI 기술 뉴스

🔄 처리 시작: 'AI 기술 뉴스'
--------------------------------------------------

1️⃣ 뉴스 정보 수집 중...
   ✅ 3개 웹사이트에서 정보를 수집했습니다.

2️⃣ 수집된 데이터 분석 중...
   ✅ 데이터 처리가 완료되었습니다.

3️⃣ 결과 저장 중...
   ✅ 2개의 행동을 수행하고 데이터를 저장했습니다.

4️⃣ 최종 보고서 생성 중...
   ✅ 보고서 생성 및 저장이 완료되었습니다.
```

## 🚨 일반적인 문제 및 해결방법

### 문제 1: API 키 관련 오류
```
⚠️ Claude ChatCompletionClient 생성 실패: Invalid API key
```
**해결방법:**
1. `.env` 파일에서 `ANTHROPIC_API_KEY` 확인
2. Anthropic 콘솔에서 유효한 API 키 발급
3. API 키에 충분한 크레딧이 있는지 확인

### 문제 2: 패키지 Import 오류
```
❌ ModuleNotFoundError: No module named 'anthropic'
```
**해결방법:**
```bash
pip install -r requirements.txt
```

### 문제 3: 웹 스크래핑 실패
```
❌ 웹사이트 검색 테스트 실패: WebDriver not found
```
**해결방법:**
```bash
pip install webdriver-manager
```

### 문제 4: 파일 저장 오류
```
❌ 데이터 저장 실패: Permission denied
```
**해결방법:**
- 현재 디렉토리에 쓰기 권한 확인
- 관리자 권한으로 실행

## 📊 성공적인 테스트 결과 확인

### 생성되는 파일들:
```
프로젝트/
├── saved_reports/
│   ├── report_20241204_143022_AI 기술 뉴스.json
│   └── summary_20241204_143022_AI 기술 뉴스.txt
├── reports/
│   └── report_20241204_143022_AI 기술 뉴스.txt
└── test_report_20241204_143022.txt
```

### 로그 메시지 확인:
- ✅ 에이전트 초기화 성공 메시지
- ✅ 각 단계별 진행 상황 표시
- ✅ 파일 저장 완료 메시지
- ✅ 최종 결과 요약

## 🎯 다음 단계

1. **모든 테스트 통과 시:**
   - 실제 뉴스 키워드로 테스트
   - 다양한 주제로 반복 테스트
   - 생성된 보고서 품질 확인

2. **일부 테스트 실패 시:**
   - 오류 메시지 분석
   - 해당 컴포넌트 개별 디버깅
   - 설정 파일 재검토

3. **성능 최적화:**
   - 스크래핑 속도 조정
   - Claude API 호출 최적화
   - 파일 저장 방식 개선

## 💡 추가 테스트 팁

- **점진적 테스트**: 환경 설정 → 기능 테스트 → 실제 실행 순서로 진행
- **로그 확인**: 각 단계에서 출력되는 메시지 주의 깊게 확인
- **파일 확인**: 생성된 보고서 파일의 내용과 형식 검토
- **API 사용량**: Anthropic 콘솔에서 API 사용량 모니터링